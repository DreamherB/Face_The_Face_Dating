<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Sign Up Page</title>
    <!-- CSS -->
    <link href="main.css" rel="stylesheet" />
    <!-- Bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
      crossorigin="anonymous"
    ></script>
    <!-- Axios -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <script>
      /* 회원 가입 시 */

      async function registerAccount() {
        const Email = document.getElementById("inputEmail").value;
        const PhoneNumber = document.getElementById("inputPhoneNum").value;
        const nickname = document.getElementById("inputNickname").value;
        const password = document.getElementById("inputPassword").value;
        const confirmPassword =
          document.getElementById("confirmPassword").value;

       

        try {
          const response = await axios.post("/api/registerAccount", {
            nickname: nickname,
            password: password,
            confirmPassword: confirmPassword,
          });
          console.log(response.data);
          alert("회원가입을 축하드립니다!"), window.location.replace("/signIn");
        } catch (error) {
          console.error(error);
          alert("중복된 닉네임입니다.");
          // alert(error.errorMessage); 로는 어떻게 받을까?
        }
      }
    </script>
  </head>
  <body>
    <!--  html 전체 영역을 지정하는 container -->
    <div class="container py-5">
      <div id="container">
        <div id="loginBox">
          <label class="form-check-label" for="gridCheck">
            <h2>FACE THE FACE DATING</h2>
            <p></p>
            <h3>회원가입</h3>
            <p></p>
            <p></p>
          </label>
          <form class="row g-3">
            <div class="col-12">
              <label for="inputEmail" class="form-label">Email</label>
              <input
                type="text"
                class="form-control"
                id="inputEmail"
                placeholder="Email"
              />
            </div>
            <div class="col-12">
              <label for="inputPhoneNum" class="form-label">Phone Number</label>
              <input
                type="text"
                class="form-control"
                id="inputPhoneNum"
                placeholder="Phone Number"
              />
            </div>
            <div class="col-12">
              <label for="inputPassword" class="form-label">Password</label>
              <input
                type="text"
                class="form-control"
                id="inputPassword"
                placeholder="Password"
              />
            </div>
            <div class="col-12">
              <label for="confirmPassword" class="form-label"
                >Password Check</label
              >
              <input
                type="text"
                class="form-control"
                id="confirmPassword"
                placeholder="please confirm password"
              />
            </div>
            <div class="col-12">
              <label for="inputNickname" class="form-label">Nickname</label>
              <input
                type="text"
                class="form-control"
                id="inputNickname"
                placeholder="Nickname"
              />
            </div>

            <div class="col-6">
              <button
                type="button"
                class="btn btn-primary btn-lg"
                onclick="registerAccount()"
              >
                회원가입 완료
              </button>
            </div>
            <div class="col-6">
              <button
                type="button"
                class="btn btn-secondary btn-lg"
                onclick="history.back()"
              >
                취소
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </body>
</html>
